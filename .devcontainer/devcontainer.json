  {
      "name": "Provisioning Agent Dev Container",
      "image": "mcr.microsoft.com/devcontainers/base:bullseye",
      "features": {
          "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {},
          "ghcr.io/devcontainers/features/go:1": {},
          "ghcr.io/devcontainers/features/node:1": {
              "version": "18"
          },
          "ghcr.io/devcontainers/features/python:1": {
              "version": "3.11",
              "installTools": true
          },
          "ghcr.io/devcontainers/features/git:1": {
              "ppa": true,
              "version": "latest"
          }
      },
      "postCreateCommand": "npm install -g @anthropic-ai/claude-code && bash .devcontainer/setup.sh",

      "customizations": {
          "vscode": {
              "extensions": [
                  "hashicorp.terraform",
                  "ms-python.python",
                  "ms-vscode.makefile-tools",
                  "redhat.ansible",
                  "ms-vscode.vscode-json",
                  "yzhang.markdown-all-in-one",
                  "streetsidesoftware.code-spell-checker"
              ],
              "settings": {
                  "terminal.integrated.defaultProfile.linux": "bash",
                  "terraform.experimentalFeatures.validateOnSave": true,
                  "terraform.languageServer.enable": true,
                  "python.defaultInterpreterPath": "~/.venv/provisioner/bin/python",
                  "python.terminal.activateEnvironment": true,
                  "files.associations": {
                      "*.tf": "terraform",
                      "*.tfvars": "terraform",
                      "*.hcl": "terraform",
                      "*.yml": "ansible",
                      "*.yaml": "ansible"
                  }
              }
          }
      },

      "forwardPorts": [8080, 8081, 8082, 3000, 5000],

      "remoteEnv": {
          // "ANSIBLE_VAULT_PASSWORD_FILE": "/home/vscode/.ansible_vault_provisioner",
          "EDITOR": "code --wait",
          "PYTHONPATH": "/workspaces/provisioner"
      },

      "workspaceFolder": "/workspaces/provisioner",
      "remoteUser": "vscode"
  }
  